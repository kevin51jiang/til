<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <title>til / Store Refs in Zustand Stores — Kevin Jiang</title>
    <meta property="og:url" content="https://kevinjiang.ca/til/store-refs-in-zustand-stores/">
    <meta property="og:title" content="til / Store Refs in Zustand Stores — Kevin Jiang">
    <meta property="og:description" content="Use callback refs.">
    <meta property="og:type" content="article">
    <meta property="article:author:first_name" content="Kevin">
    <meta property="article:author:last_name" content="Jiang">
    <meta property="article:published_time" content="2024-08-19T18:10:11.000-04:00">
    <meta property="article:modified_time" content="2024-08-19T22:11:30.000+00:00">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:creator" content="@kevin51jiang">
    <script type="application/ld+json">
{
  "@context": "https://schema.org/",
  "@type": "LearningResource",
  "name": "Store Refs in Zustand Stores",
  "description": "Use callback refs.",
  "author": {
    "@type": "Person",
    "name": "Kevin Jiang",
    "url": "https://kevinjiang.ca"
  },
  "url": "https://kevinjiang.ca/til/store-refs-in-zustand-stores/",
  "datePublished": "2024-08-19T18:10:11.000-04:00",
  "dateModified": "2024-08-19T22:11:30.000+00:00",
  "isPartOf": "https://kevinjiang.ca/til/",
  "license": "https://creativecommons.org/licenses/by/4.0/"
}
</script>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="canonical" href="https://kevinjiang.ca/til/store-refs-in-zustand-stores/">
    <link rel="shortcut icon" href="../assets/favicon.png">
    <link rel="stylesheet" href="../assets/style.css">
    <link rel="alternate" type="application/atom+xml" title="Reader Feed" href="https://kevinjiang.ca/til/feed.xml">
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-61714711-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-61714711-1');
    </script>
  </head>
  <body>
    <header>
      <a href="https://kevinjiang.ca/til/"><img src="../assets/logo.svg" alt="Kevin Jiang"></a>
    </header>
    <article>
      <h1>
        <a href="../">til</a><span>Store Refs in Zustand Stores</span>
      </h1>
      <p>
        Use callback refs.
      </p>
      <p>
        Inside the zustand store:
      </p>
      <pre data-code-block data-lang="jsx"><code><span data-line="1"><span style="color:#24292EFF;">  settingsContainerRef</span><span style="color:#212121;">:</span><span style="color:#24292EFF;"> </span><span style="color:#6F42C1;">createRef</span><span style="color:#24292EFF;">() </span><span style="color:#D32F2F;">as</span><span style="color:#24292EFF;"> </span><span style="color:#6F42C1;">MutableRefObject</span><span style="color:#24292EFF;">&lt;</span><span style="color:#6F42C1;">HTMLDivElement</span><span style="color:#24292EFF;">&gt;</span><span style="color:#212121;">,</span>
</span><span data-line="2"><span style="color:#24292EFF;">  setSettingsContainerEl</span><span style="color:#212121;">:</span><span style="color:#24292EFF;"> (element</span><span style="color:#D32F2F;">:</span><span style="color:#24292EFF;"> </span><span style="color:#6F42C1;">HTMLDivElement</span><span style="color:#24292EFF;"> </span><span style="color:#D32F2F;">|</span><span style="color:#24292EFF;"> </span><span style="color:#1976D2;">null</span><span style="color:#24292EFF;">) </span><span style="color:#D32F2F;">=&gt;</span><span style="color:#24292EFF;"> {</span>
</span><span data-line="3"><span style="color:#24292EFF;">    </span><span style="color:#D32F2F;">if</span><span style="color:#24292EFF;"> (</span><span style="color:#D32F2F;">!</span><span style="color:#24292EFF;">element) {</span>
</span><span data-line="4"><span style="color:#24292EFF;">      </span><span style="color:#D32F2F;">return</span><span style="color:#24292EFF;">;</span>
</span><span data-line="5"><span style="color:#24292EFF;">    }</span>
</span><span data-line="6"><span style="color:#24292EFF;">    </span><span style="color:#D32F2F;">const</span><span style="color:#24292EFF;"> </span><span style="color:#1976D2;">newRef</span><span style="color:#24292EFF;"> </span><span style="color:#D32F2F;">=</span><span style="color:#24292EFF;"> </span><span style="color:#6F42C1;">createRef</span><span style="color:#24292EFF;">() </span><span style="color:#D32F2F;">as</span><span style="color:#24292EFF;"> </span><span style="color:#6F42C1;">MutableRefObject</span><span style="color:#24292EFF;">&lt;</span><span style="color:#6F42C1;">HTMLDivElement</span><span style="color:#24292EFF;">&gt;;</span>
</span><span data-line="7"><span style="color:#24292EFF;">    </span><span style="color:#1976D2;">newRef</span><span style="color:#24292EFF;">.current </span><span style="color:#D32F2F;">=</span><span style="color:#24292EFF;"> element;</span>
</span><span data-line="8"><span style="color:#24292EFF;">    </span><span style="color:#6F42C1;">set</span><span style="color:#24292EFF;">({ settingsContainerRef</span><span style="color:#D32F2F;">:</span><span style="color:#24292EFF;"> newRef });</span>
</span><span data-line="9"><span style="color:#24292EFF;">  }</span><span style="color:#212121;">,</span>
</span></code></pre>
      <p>
        Then in JSX:
      </p>
      <pre data-code-block><code>    &lt;div
     ref={setSettingsContainerEl}
     ...
     /&gt;</code></pre>
      <p>
        Source: <a href="https://github.com/pmndrs/zustand/discussions/1833#discussioncomment-8957558" target="_blank">https://github.com/pmndrs/zustand/discussions/1833#discussioncomment-8957558</a>
      </p>
    </article>
    <footer>
      <div class="linkedlist">
        <a href="../how-to-soft-link-a-directory-on-linux/" class="prev">How to Soft Link a Directory on Linux</a><a href="../how-to-mount-nfs-shares-in-nfs-containers/" class="next">how to mount nfs shares in nfs containers</a>
      </div>
      <div class="license" xmlns:cc="http://creativecommons.org/ns" xmlns:dct="http://purl.org/dc/terms/">
        This <a property="dct:title" rel="cc:attributionURL" href="https://kevinjiang.ca/til/store-refs-in-zustand-stores/">til</a> was created <span property="dct:created" content="2024-08-19T18:10:11.000-04:00">Mon, Aug 19, 2024, 6:10 PM</span> ⸱ <a href="https://raw.githubusercontent.com/kevin51jiang/til/main/entries/store%20refs%20in%20zustand%20stores.md" target="_blank">raw</a> ⸱ <a href="https://github.com/kevin51jiang/til/edit/main/entries/store%20refs%20in%20zustand%20stores.md#L8" target="_blank">edit</a><br>© <span rel="dct:dateCopyrighted">2024</span> <a rel="cc:attributionURL dct:creator" property="cc:attributionName" href="https://kevinjiang.ca">Kevin Jiang</a> ⸱ licensed under <a href="http://creativecommons.org/licenses/by/4.0/" target="_blank" rel="cc:license license noopener noreferrer">CC BY 4.0<img src="https://mirrors.creativecommons.org/presskit/icons/cc.svg" aria-hidden="true"><img src="https://mirrors.creativecommons.org/presskit/icons/by.svg" aria-hidden="true"></a> ⸱ <a href="https://kevinjiang.ca/til/feed.xml" rel="alternate feed" type="application/atom+xml">feed</a>
      </div>
    </footer>
  </body>
</html>